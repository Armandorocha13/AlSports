(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[18],{711:function(e,r,t){Promise.resolve().then(t.bind(t,5499))},5499:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return N}});var a=t(7437),s=t(2265),o=t(9376),n=t(7648),i=t(5302);let l=(0,t(9763).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var d=t(1723),c=t(4794),u=t(2660),m=t(1047),h=t(5252),p=t(340),g=t(2208),x=t(6281),f=t(9203),y=t(8226),b=t(9076),v=t(3774);let _={aguardando_pagamento:{title:"Aguardando Pagamento",description:"Seu pedido foi criado e est\xe1 aguardando confirma\xe7\xe3o do pagamento.",icon:y.Z,color:"text-yellow-600",bgColor:"bg-yellow-100",borderColor:"border-yellow-200"},pagamento_confirmado:{title:"Pagamento Confirmado",description:"Pagamento aprovado! Seu pedido est\xe1 sendo preparado.",icon:i.Z,color:"text-green-600",bgColor:"bg-green-100",borderColor:"border-green-200"},preparando_pedido:{title:"Preparando Pedido",description:"Seus produtos est\xe3o sendo separados e embalados.",icon:c.Z,color:"text-blue-600",bgColor:"bg-blue-100",borderColor:"border-blue-200"},enviado:{title:"Pedido Enviado",description:"Seu pedido foi enviado e est\xe1 a caminho.",icon:p.Z,color:"text-purple-600",bgColor:"bg-purple-100",borderColor:"border-purple-200"},em_transito:{title:"Em Tr\xe2nsito",description:"Seu pedido est\xe1 em tr\xe2nsito para o endere\xe7o de entrega.",icon:p.Z,color:"text-indigo-600",bgColor:"bg-indigo-100",borderColor:"border-indigo-200"},entregue:{title:"Entregue",description:"Seu pedido foi entregue com sucesso!",icon:i.Z,color:"text-green-600",bgColor:"bg-green-100",borderColor:"border-green-200"},cancelado:{title:"Pedido Cancelado",description:"Seu pedido foi cancelado.",icon:l,color:"text-red-600",bgColor:"bg-red-100",borderColor:"border-red-200"},devolvido:{title:"Devolvido",description:"Seu pedido foi devolvido.",icon:b.Z,color:"text-orange-600",bgColor:"bg-orange-100",borderColor:"border-orange-200"}},j=["aguardando_pagamento","pagamento_confirmado","preparando_pedido","enviado","em_transito","entregue"];function w(e){let{orderId:r,currentStatus:t,statusHistory:o=[],realtime:n=!1}=e,[i,l]=(0,s.useState)(t),[c,u]=(0,s.useState)(o),m=(0,f.e)();!function(e,r){let t=(0,s.useRef)(r),a=(0,f.e)();(0,s.useEffect)(()=>{t.current=r},[r]),(0,s.useEffect)(()=>{if(!e)return;let r=a.channel("order-".concat(e)).on("postgres_changes",{event:"*",schema:"public",table:"orders",filter:"id=eq.".concat(e)},e=>{t.current(e.new)}).subscribe();return()=>{a.removeChannel(r)}},[e,a])}(r,e=>{e.status!==i&&l(e.status)}),function(e,r){let t=(0,s.useRef)(r),a=(0,f.e)();(0,s.useEffect)(()=>{t.current=r},[r]),(0,s.useEffect)(()=>{if(!e)return;let r=a.channel("order-status-".concat(e)).on("postgres_changes",{event:"INSERT",schema:"public",table:"order_status_history",filter:"order_id=eq.".concat(e)},e=>{t.current(e.new)}).subscribe();return()=>{a.removeChannel(r)}},[e,a])}(r,e=>{u(r=>[...r,e])}),(0,s.useEffect)(()=>{0===o.length&&n&&h()},[r,n]);let h=async()=>{try{let{data:e,error:t}=await m.from("order_status_history").select("*").eq("order_id",r).order("created_at",{ascending:!0});if(t){console.error("Erro ao buscar hist\xf3rico:",t);return}u(e||[])}catch(e){console.error("Erro ao buscar hist\xf3rico:",e)}},p=e=>j.indexOf(e),g=e=>{let r=p(i);return p(e)<=r},x=e=>e===i,y=e=>c.find(r=>r.status===e),b=e=>new Date(e).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[(0,a.jsx)(v.Z,{className:"h-6 w-6 text-primary-600 mr-2"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Acompanhamento do Pedido"}),n&&(0,a.jsxs)("div",{className:"ml-auto flex items-center text-sm text-green-600",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse mr-2"}),"Tempo real"]})]}),(0,a.jsx)("div",{className:"space-y-4",children:j.map((e,r)=>{let t=_[e],s=t.icon,o=g(e),n=x(e),i=y(e);return(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center mr-4",children:[(0,a.jsx)("div",{className:"\n                  w-10 h-10 rounded-full flex items-center justify-center border-2\n                  ".concat(o?"".concat(t.bgColor," ").concat(t.borderColor," ").concat(t.color):"bg-gray-100 border-gray-300 text-gray-400","\n                  ").concat(n?"ring-4 ring-primary-200":"","\n                "),children:(0,a.jsx)(s,{size:20})}),r<j.length-1&&(0,a.jsx)("div",{className:"\n                    w-0.5 h-8 mt-2\n                    ".concat(o?"bg-primary-300":"bg-gray-200","\n                  ")})]}),(0,a.jsxs)("div",{className:"flex-1 pb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h4",{className:"\n                    font-medium\n                    ".concat(o?"text-gray-900":"text-gray-500","\n                  "),children:t.title}),i&&(0,a.jsx)("span",{className:"text-sm text-gray-500",children:b(i.created_at)})]}),(0,a.jsx)("p",{className:"\n                  text-sm mt-1\n                  ".concat(o?"text-gray-600":"text-gray-400","\n                "),children:t.description}),(null==i?void 0:i.notes)&&(0,a.jsxs)("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm text-gray-600",children:[(0,a.jsx)("strong",{children:"Observa\xe7\xe3o:"})," ",i.notes]}),n&&(0,a.jsxs)("div",{className:"mt-2 flex items-center text-sm text-primary-600",children:[(0,a.jsx)(d.Z,{size:16,className:"mr-1"}),"Status atual"]})]})]},e)})}),(0,a.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:"N\xfamero do Pedido:"}),(0,a.jsx)("p",{className:"text-gray-600",children:r})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:"Status Atual:"}),(0,a.jsx)("p",{className:"text-gray-600",children:_[i].title})]})]})})]})}function N(){let e=(0,o.useRouter)(),{user:r,loading:t}=(0,x.a)(),[y,b]=(0,s.useState)([]),[v,_]=(0,s.useState)(!0),[j,N]=(0,s.useState)(null),[C,k]=(0,s.useState)(!1),Z=(0,f.e)();(0,s.useEffect)(()=>{if(!t&&!r){e.push("/auth/login?redirectTo=/minha-conta/pedidos");return}r&&E()},[r,t]);let E=async()=>{if(r)try{let e=[],t=null;try{let{data:a,error:s}=await Z.from("whatsapp_orders").select("*").eq("customer_email",r.email).order("created_at",{ascending:!1});e=a||[],(t=s)&&console.error("❌ Erro ao buscar pedidos WhatsApp:",t)}catch(t){console.log("⚠️ Tabela whatsapp_orders n\xe3o dispon\xedvel, buscando na tabela orders...");try{let{data:t,error:a}=await Z.from("orders").select("*").eq("customer_email",r.email).order("created_at",{ascending:!1});a?console.error("❌ Erro ao buscar pedidos na tabela orders:",a):(e=(t||[]).filter(e=>{var r,t;return(null===(r=e.order_number)||void 0===r?void 0:r.includes("ALS-"))||(null===(t=e.notes)||void 0===t?void 0:t.includes("WhatsApp"))}),console.log("\uD83D\uDCF1 Pedidos WhatsApp encontrados na tabela orders:",e.length))}catch(e){console.error("❌ Erro no fallback para tabela orders:",e)}}let{data:a,error:s}=await Z.from("orders_with_customer").select("*").eq("user_id",r.id).order("created_at",{ascending:!1});s&&console.error("❌ Erro ao buscar pedidos do banco:",s);let o=(e||[]).map(e=>({id:e.id,order_number:e.order_number,customer_name:e.customer_name,customer_email:e.customer_email,customer_phone:e.customer_phone,status:e.status,subtotal:e.subtotal,shipping_cost:e.shipping_cost,total_amount:e.total_amount,shipping_address:e.shipping_address,notes:e.notes,created_at:e.created_at,method:"whatsapp"})),n=(a||[]).map(e=>{var r,t,a;return{id:e.id,order_number:e.order_number,customer_name:e.customer_name||(null===(r=e.profiles)||void 0===r?void 0:r.full_name),customer_email:e.customer_email||(null===(t=e.profiles)||void 0===t?void 0:t.email),customer_phone:e.customer_phone||(null===(a=e.profiles)||void 0===a?void 0:a.phone),status:e.status,subtotal:e.subtotal,shipping_cost:e.shipping_cost,total_amount:e.total_amount,shipping_address:e.shipping_address,notes:e.notes,created_at:e.created_at,method:"database"}}),i=[...o,...n];i.sort((e,r)=>new Date(r.created_at).getTime()-new Date(e.created_at).getTime()),console.log("\uD83D\uDCCB Pedidos encontrados:",i.length),console.log("\uD83D\uDCF1 Pedidos WhatsApp:",o.length),console.log("\uD83D\uDCCA Pedidos tradicionais:",n.length),b(i)}catch(e){console.error("Erro ao buscar pedidos:",e)}finally{_(!1)}},S=e=>{switch(e){case"entregue":return(0,a.jsx)(i.Z,{className:"h-5 w-5 text-green-600"});case"cancelado":return(0,a.jsx)(l,{className:"h-5 w-5 text-red-600"});case"aguardando_pagamento":return(0,a.jsx)(d.Z,{className:"h-5 w-5 text-yellow-600"});default:return(0,a.jsx)(c.Z,{className:"h-5 w-5 text-blue-600"})}},P=e=>({aguardando_pagamento:"Aguardando Pagamento",pagamento_confirmado:"Pagamento Confirmado",preparando_pedido:"Preparando Pedido",enviado:"Enviado",em_transito:"Em Tr\xe2nsito",entregue:"Entregue",cancelado:"Cancelado",devolvido:"Devolvido"})[e]||e,D=e=>{switch(e){case"entregue":return"bg-green-100 text-green-800";case"cancelado":return"bg-red-100 text-red-800";case"aguardando_pagamento":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}},I=e=>new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),A=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e);return t||v?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,a.jsxs)("div",{className:"flex items-center mb-8",children:[(0,a.jsx)(n.default,{href:"/minha-conta",className:"p-2 text-gray-600 hover:text-gray-900 transition-colors duration-200",children:(0,a.jsx)(u.Z,{size:24})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 ml-4",children:"Meus Pedidos"})]}),0===y.length?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[(0,a.jsx)(c.Z,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum pedido encontrado"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Voc\xea ainda n\xe3o fez nenhum pedido. Que tal come\xe7ar a comprar?"}),(0,a.jsx)(n.default,{href:"/",className:"bg-primary-600 text-white px-6 py-2 rounded-lg hover:bg-primary-700 transition-colors duration-200",children:"Ver Produtos"})]}):(0,a.jsx)("div",{className:"space-y-6",children:y.map(e=>{var r,t,s,o,i,l,d;return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[S(e.status),(0,a.jsxs)("span",{className:"ml-2 text-sm font-medium text-gray-900",children:["Pedido #",e.order_number]})]}),(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(D(e.status)),children:P(e.status)})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Pedido em ",I(e.created_at)]}),(0,a.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:A(e.total_amount)})]})]})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Informa\xe7\xf5es do Pedido"}),(0,a.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),(0,a.jsxs)("span",{children:["Data: ",I(e.created_at)]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),(0,a.jsxs)("span",{children:["Total: ",A(e.total_amount)]})]}),e.tracking_code&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),(0,a.jsxs)("span",{children:["Rastreamento: ",e.tracking_code]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Endere\xe7o de Entrega"}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,a.jsxs)("p",{children:[null===(r=e.shipping_address)||void 0===r?void 0:r.street,", ",null===(t=e.shipping_address)||void 0===t?void 0:t.number]}),(null===(s=e.shipping_address)||void 0===s?void 0:s.complement)&&(0,a.jsx)("p",{children:e.shipping_address.complement}),(0,a.jsx)("p",{children:null===(o=e.shipping_address)||void 0===o?void 0:o.neighborhood}),(0,a.jsxs)("p",{children:[null===(i=e.shipping_address)||void 0===i?void 0:i.city," - ",null===(l=e.shipping_address)||void 0===l?void 0:l.state]}),(0,a.jsxs)("p",{children:["CEP: ",null===(d=e.shipping_address)||void 0===d?void 0:d.zip_code]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"A\xe7\xf5es"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("button",{onClick:()=>{N(e),k(!0)},className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"Acompanhar Pedido"]}),(0,a.jsx)(n.default,{href:"/minha-conta/pedidos/".concat(e.id),className:"w-full flex items-center justify-center px-4 py-2 bg-primary-600 text-white rounded-lg text-sm font-medium hover:bg-primary-700 transition-colors duration-200",children:"Ver Detalhes"})]})]})]}),e.notes&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray-900 mb-1",children:"Observa\xe7\xf5es"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.notes})]})]})]},e.id)})}),C&&j&&(0,a.jsxs)("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>k(!1)}),(0,a.jsx)("div",{className:"absolute right-0 top-0 h-full w-full max-w-2xl bg-white shadow-xl",children:(0,a.jsxs)("div",{className:"flex h-full flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Acompanhamento - #",j.order_number]}),(0,a.jsx)("button",{onClick:()=>k(!1),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:(0,a.jsx)(l,{size:20})})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,a.jsx)(w,{orderId:j.id,currentStatus:j.status,realtime:!0})})]})})]})]})}):null}},6281:function(e,r,t){"use strict";t.d(r,{AuthProvider:function(){return i},a:function(){return l}});var a=t(7437),s=t(2265),o=t(9203);let n=(0,s.createContext)(void 0);function i(e){let{children:r}=e,[t,i]=(0,s.useState)(null),[l,d]=(0,s.useState)(null),[c,u]=(0,s.useState)(null),[m,h]=(0,s.useState)(!0),p=(0,o.e)();(0,s.useEffect)(()=>{(async()=>{var e;let{data:{session:r}}=await p.auth.getSession();u(r),i(null!==(e=null==r?void 0:r.user)&&void 0!==e?e:null),(null==r?void 0:r.user)&&await g(r.user.id),h(!1)})();let{data:{subscription:e}}=p.auth.onAuthStateChange(async(e,r)=>{var t;u(r),i(null!==(t=null==r?void 0:r.user)&&void 0!==t?t:null),(null==r?void 0:r.user)?await g(r.user.id):d(null),h(!1)});return()=>e.unsubscribe()},[]);let g=async e=>{try{let{data:r,error:a}=await p.from("profiles").select("*").eq("id",e).single();if(a){console.error("Erro ao buscar perfil:",a),console.log("Tentando criar perfil para usu\xe1rio:",e);let{data:r,error:s}=await p.from("profiles").insert({id:e,email:(null==t?void 0:t.email)||"usuario@exemplo.com",full_name:"Usu\xe1rio",user_type:"cliente"}).select().single();if(s){console.error("Erro ao criar perfil:",s);let r={id:e,email:(null==t?void 0:t.email)||"usuario@exemplo.com",full_name:"Usu\xe1rio",phone:null,cpf:null,birth_date:null,user_type:"cliente",avatar_url:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};d(r)}else console.log("Perfil criado com sucesso:",r),d(r)}else console.log("Perfil encontrado:",r),d(r);let{data:s,error:o}=await p.from("user_roles").select("role").eq("user_id",e);if(o){console.error("Erro ao buscar roles:",o),d(r);return}let n=r.user_type||"cliente";if(s&&s.length>0){let e=s.map(e=>e.role);e.includes("admin")?n="admin":e.includes("vendedor")&&(n="vendedor")}"00000000-0000-0000-0000-000000000001"===e&&(n="admin",console.log("\uD83D\uDD27 Usu\xe1rio admin detectado via fallback"));let i={...r,user_type:n};d(i)}catch(r){console.error("Erro ao buscar perfil:",r),d({id:e,email:"usuario@exemplo.com",full_name:"Usu\xe1rio",phone:null,cpf:null,birth_date:null,user_type:"cliente",avatar_url:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})}},x=async(e,r,t)=>{try{let{data:a}=await p.auth.getUser(),{data:s}=await p.from("profiles").select("email").eq("email",e).single();if(s)return{error:{message:"Este email j\xe1 est\xe1 cadastrado"}};if(t.cpf){let{data:e}=await p.from("profiles").select("cpf").eq("cpf",t.cpf).single();if(e)return{error:{message:"Este CPF j\xe1 est\xe1 cadastrado"}}}console.log("Criando usu\xe1rio no Supabase Auth...");let{data:o,error:n}=await p.auth.signUp({email:e,password:r,options:{data:{full_name:t.full_name,phone:t.phone}}});if(console.log("Resultado da cria\xe7\xe3o do usu\xe1rio:",{data:o,error:n}),n){let e=n.message;return n.message.includes("already registered")||n.message.includes("User already registered")?e="Este email j\xe1 est\xe1 cadastrado":n.message.includes("Invalid email")?e="Email inv\xe1lido":n.message.includes("Password should be at least")?e="A senha deve ter pelo menos 6 caracteres":n.message.includes("Unable to validate email address")&&(e="N\xe3o foi poss\xedvel validar o email"),{error:{...n,message:e}}}if(o.user){console.log("Criando perfil para usu\xe1rio:",o.user.id),console.log("Dados do perfil:",{id:o.user.id,email:o.user.email,full_name:t.full_name,phone:t.phone,cpf:t.cpf,birth_date:t.birth_date,user_type:"cliente"});let{data:e,error:r}=await p.from("profiles").insert({id:o.user.id,email:o.user.email,full_name:t.full_name,phone:t.phone,cpf:t.cpf,birth_date:t.birth_date,user_type:"cliente"}).select();if(r)return console.error("Erro ao criar perfil:",r),console.error("Detalhes do erro:",{code:r.code,message:r.message,details:r.details,hint:r.hint}),await p.auth.admin.deleteUser(o.user.id),{error:{message:"Erro ao criar perfil do usu\xe1rio"}};console.log("Perfil criado com sucesso:",e)}return console.log("Cadastro finalizado com sucesso, retornando sucesso"),{error:null}}catch(e){return console.error("Erro no signUp:",e),{error:{message:"Erro interno do servidor"}}}},f=async(e,r)=>{try{var t;console.log("Tentando fazer login para:",e);let{data:a,error:s}=await p.auth.signInWithPassword({email:e,password:r});if(s)return console.error("Erro no login:",s),{error:s};return console.log("Login realizado com sucesso:",null===(t=a.user)||void 0===t?void 0:t.email),{error:null}}catch(e){return console.error("Erro no catch do login:",e),{error:e}}},y=async()=>{try{await p.auth.signOut()}catch(e){console.error("Erro ao fazer logout:",e)}},b=async e=>{if(!t)return{error:Error("Usu\xe1rio n\xe3o autenticado")};try{let{error:r}=await p.from("profiles").update(e).eq("id",t.id);if(r)return{error:r};return d(r=>r?{...r,...e}:null),{error:null}}catch(e){return{error:e}}};return(0,a.jsx)(n.Provider,{value:{user:t,profile:l,session:c,loading:m,signUp:x,signIn:f,signOut:y,updateProfile:b},children:r})}function l(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useAuth deve ser usado dentro de um AuthProvider");return e}},9203:function(e,r,t){"use strict";t.d(r,{e:function(){return s}});var a=t(7272);function s(){return(0,a.createBrowserClient)("https://nzrzgtwhgousnnvxjyhf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im56cnpndHdoZ291c25udnhqeWhmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk2ODc1OTAsImV4cCI6MjA3NTI2MzU5MH0.RxeZfgwMfUAr6iGDCb4gsB_lDLYYgyWj70hCaC3CE7o")}},2660:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1047:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},5302:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1723:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8226:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},5252:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},2208:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3774:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4794:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},9076:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},340:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]])},7648:function(e,r,t){"use strict";t.d(r,{default:function(){return s.a}});var a=t(2972),s=t.n(a)},9376:function(e,r,t){"use strict";var a=t(5475);t.o(a,"notFound")&&t.d(r,{notFound:function(){return a.notFound}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[972,99,971,117,744],function(){return e(e.s=711)}),_N_E=e.O()}]);